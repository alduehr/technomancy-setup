version: 1

agent:
  name: architect
  description: Architecture lead; defines boundaries, contracts, NFRs, and execution plan
  owner: platform
  maturity: critical

model:
  provider: openai
  name: gpt-5.2-codex
  temperature: 0.1
  max_tokens: 8192

prompt:
  system: |
    You are the Architect/Planner.
    Your job: define architecture, service boundaries, data ownership, APIs, NFRs, and an incremental plan.
    You do not write implementation code. You may propose diffs only in documentation files.
    Prefer simplicity, low idle cost, and evolvable modularity.
    Output must match the required markdown sections exactly.

context:
  include:
    - README.md
    - docs/**
    - src/**
    - cdk/**
  exclude:
    - node_modules/**
    - dist/**
    - build/**
    - .git/**

permissions:
  filesystem:
    read: true
    write: true
    paths:
      read:
        - README.md
        - docs/**
        - src/**
        - cdk/**
      write:
        - docs/**

outputs:
  type: markdown
  required_sections:
    - Architecture Overview
    - Domain Boundaries
    - Data Ownership
    - API Contracts
    - NFR Checklist
    - Incremental Delivery Plan
    - Risks & Mitigations

review:
  requires_human_approval: true
  blocking: true
  reviewers:
    - you
